---
title: "Mini-Project 2"
author: "Kerry LeCure, Libby Leung, Madeleine Hickman"
date: "October 31, 2017"
output: html_document
---

```{r, message=FALSE}
library(tidyverse)
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```
```{r}
#use of join
data <- full_join(candidates, contributions, by = c("cand_id"))

#wrangled data
data %>%
  select("cand_party_affiliation", "transaction_type", "entity_type", "transaction_amt")
```
```{r}
#function to generalize analysis
party <- function(party_id) {
  data %>%
    filter(cand_party_affiliation == party_id) %>%
    group_by(entity_type) %>%
    summarize(total_entity = n()) %>%
    arrange(desc(total_entity))
}
party(party_id = "DEM")
party(party_id = "REP")

entity <- function(entities) {
  data %>%
    filter(entity_type == entities) %>%
    group_by(cand_party_affiliation) %>%
    summarize(total_party = n()) %>%
    arrange(desc(total_party))
}
entity(entities = "CCM")
```
#blog post explaining
The function `party` sorts the data by `cand_party_affiliation` and shows the amount of times each specific entity (such as an organization or a committee) contributed to a specified party. The function `entities` sorts the data by `entity_type` and will show how many times a each party recieved a contribution from a specified entity.